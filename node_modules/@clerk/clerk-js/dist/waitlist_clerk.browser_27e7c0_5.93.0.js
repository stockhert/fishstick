"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["861"],{6522:function(t,i,e){e.r(i),e.d(i,{Waitlist:()=>z,WaitlistModal:()=>A});var l=e(4328),a=e(3799),o=e(2418),n=e(2672),s=e(6788),r=e(1576),c=e(4204),d=e(4676),h=e(431),u=e(2654),m=e(8870),Z=e(9281),p=e(6352),y=e(4174),g=e(1217);let w=t=>{let i=(0,a.cL)(),e=(0,n.useCardState)(),s=(0,p._m)(),{navigate:w}=(0,d.useRouter)(),z=(0,r.useWaitlistContext)(),{formState:A}=t,K=(0,Z.a2)({onNextStep:()=>e.setError(void 0)}),C=async t=>{t.preventDefault(),s.setLoading(),e.setLoading(),e.setError(void 0);let l={emailAddress:A.emailAddress.value};await i.joinWaitlist(l).then(()=>{K.nextStep(),setTimeout(()=>{z.afterJoinWaitlistUrl&&w(z.afterJoinWaitlistUrl)},2e3)}).catch(t=>{(0,m.S3)(t,[A.emailAddress],e.setError)}).finally(()=>{s.setIdle(),e.setIdle()})};return(0,l.BX)(Z.en,{...K.props,children:[(0,l.BX)(c.Col,{gap:6,children:[(0,l.BX)(u.h.Root,{showLogo:!0,children:[(0,l.tZ)(u.h.Title,{localizationKey:(0,c.localizationKeys)("waitlist.start.title")}),(0,l.tZ)(u.h.Subtitle,{localizationKey:(0,c.localizationKeys)("waitlist.start.subtitle")})]}),(0,l.tZ)(o.Z.Alert,{children:e.error}),(0,l.tZ)(c.Flex,{direction:"col",elementDescriptor:c.descriptors.main,gap:6,children:(0,l.BX)(h.l.Root,{onSubmit:C,gap:8,children:[(0,l.tZ)(c.Col,{gap:6,children:(0,l.tZ)(h.l.ControlRow,{elementId:"emailAddress",children:(0,l.tZ)(h.l.PlainInput,{...A.emailAddress.props,isRequired:!0})})}),(0,l.tZ)(c.Col,{center:!0,children:(0,l.tZ)(h.l.SubmitButton,{localizationKey:(0,c.localizationKeys)("waitlist.start.formButton")})})]})})]}),(0,l.BX)(c.Col,{gap:6,children:[(0,l.BX)(u.h.Root,{showLogo:!0,children:[(0,l.tZ)(u.h.Title,{localizationKey:(0,c.localizationKeys)("waitlist.success.title")}),(0,l.tZ)(u.h.Subtitle,{localizationKey:(0,c.localizationKeys)("waitlist.success.subtitle")})]}),z.afterJoinWaitlistUrl&&(0,l.tZ)(c.Flex,{direction:"col",elementDescriptor:c.descriptors.main,gap:6,children:(0,l.tZ)(c.Col,{center:!0,children:(0,l.BX)(c.Flex,{gap:2,align:"center",children:[(0,l.tZ)(c.Icon,{icon:y.z6,sx:t=>({margin:"auto",width:t.sizes.$6,height:t.sizes.$6,animation:`${g.animations.spinning} 1s linear infinite`})}),(0,l.tZ)(c.Text,{colorScheme:"secondary",localizationKey:(0,c.localizationKeys)("waitlist.success.message")})]})})})]})]})},z=(0,n.withCardStateProvider)(()=>{let t=(0,a.cL)(),i=(0,r.useWaitlistContext)(),{signInUrl:e}=i,n=i.initialValues||{},d={emailAddress:(0,s.Yp)("emailAddress",n.emailAddress||"",{type:"email",label:(0,c.localizationKeys)("formFieldLabel__emailAddress"),placeholder:(0,c.localizationKeys)("formFieldInputPlaceholder__emailAddress")})};return(0,l.tZ)(c.Flow.Root,{flow:"waitlist",children:(0,l.BX)(o.Z.Root,{children:[(0,l.tZ)(o.Z.Content,{children:(0,l.tZ)(w,{formState:d})}),(0,l.tZ)(o.Z.Footer,{children:(0,l.BX)(o.Z.Action,{elementId:"waitlist",children:[(0,l.tZ)(o.Z.ActionText,{localizationKey:(0,c.localizationKeys)("waitlist.start.actionText")}),(0,l.tZ)(o.Z.ActionLink,{localizationKey:(0,c.localizationKeys)("waitlist.start.actionLink"),to:t.buildUrlWithAuth(e)})]})})]})})}),A=t=>{let i={signInUrl:`/${d.VIRTUAL_ROUTER_BASE_PATH}/sign-in`,...t,routing:"virtual"};return(0,l.tZ)(d.Route,{path:"waitlist",children:(0,l.tZ)(r.WaitlistContext.Provider,{value:{...i,componentName:"Waitlist",mode:"modal"},children:(0,l.tZ)("div",{children:(0,l.tZ)(z,{})})})})}}}]);